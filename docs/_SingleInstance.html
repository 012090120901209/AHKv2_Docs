<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#SingleInstance | AutoHotkey v2 Documentation</title>
    <meta name="description" content="Determines whether a script is allowed to run again when it is already">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/markdown.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-left">
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="/" class="navbar-brand">
                    <span class="logo-icon">âš¡</span>
                    <span class="logo-text">AutoHotkey v2</span>
                </a>
            </div>
            <div class="navbar-center">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off">
                    <kbd class="search-hint">Ctrl+K</kbd>
                </div>
            </div>
            <div class="navbar-right">
                <a href="https://github.com/012090120901209/AHKv2_Docs" class="nav-link" target="_blank" rel="noopener">
                    <i class="fab fa-github"></i>
                    <span>GitHub</span>
                </a>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Search Results Dropdown -->
    <div class="search-results" id="searchResults" style="display: none;"></div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <!-- Category Navigation -->
                <div class="sidebar-section">
                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-book"></i>
                            <span>Getting Started</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/guides/Tutorial.html">Tutorial</a></li>
                            <li><a href="/guides/FAQ.html">FAQ</a></li>
                            <li><a href="/guides/Concepts.html">Concepts</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-code"></i>
                            <span>Functions</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/functions/string/">String Functions</a></li>
                            <li><a href="/functions/window/">Window Functions</a></li>
                            <li><a href="/functions/file/">File Operations</a></li>
                            <li><a href="/functions/system/">System Functions</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-cube"></i>
                            <span>Objects</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/objects/Array.html">Array</a></li>
                            <li><a href="/objects/Map.html">Map</a></li>
                            <li><a href="/objects/Object.html">Object</a></li>
                            <li><a href="/objects/Gui.html">Gui</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-hashtag"></i>
                            <span>Directives</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/directives/_Include.html">#Include</a></li>
                            <li><a href="/directives/_Requires.html">#Requires</a></li>
                            <li><a href="/directives/_HotIf.html">#HotIf</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-info-circle"></i>
                            <span>Reference</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/reference/KeyList.html">Key List</a></li>
                            <li><a href="/reference/Hotkeys.html">Hotkeys</a></li>
                            <li><a href="/reference/Variables.html">Variables</a></li>
                            <li><a href="/reference/Language.html">Language</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="content-wrapper">
                <!-- Breadcrumb -->
                <nav class="breadcrumb" aria-label="Breadcrumb">
                    <a href="/">Home</a> <i class="fas fa-chevron-right"></i> <span>_SingleInstance</span>
                </nav>

                <!-- Document Content -->
                <article class="markdown-body">
                    <h1 id="singleinstance">#SingleInstance</h1>
<p>Determines whether a script is allowed to run again when it is already
running.</p>
<pre class="codehilite"><code class="language-Syntax">#SingleInstance ForceIgnorePromptOff
</code></pre>

<h2 id="Parameters">Parameters</h2>
<dl>
<dt>ForceIgnorePromptOff</dt>
<dd>
<p>Type: <a href="../Concepts.htm#strings">String</a></p>
<p>If omitted, it defaults to <em>Force</em>. Otherwise, specify one of the
following words:</p>
<p><strong>Force:</strong> Skips the dialog box and replaces the old instance
automatically, which is similar in effect to the
<a href="Reload.htm">Reload</a> function.</p>
<p><strong>Ignore:</strong> Skips the dialog box and leaves the old instance
running. In other words, attempts to launch an already-running
script are ignored.</p>
<p><strong>Prompt:</strong> Displays a dialog box asking whether to keep the old
instance or replace it with the new one.</p>
<p><strong>Off:</strong> Allows multiple instances of the script to run
concurrently.</p>
</dd>
</dl>
<h2 id="Remarks">Remarks</h2>
<p>If this directive is unspecified in a script, it will behave as though
set to <em>Prompt</em>.</p>
<p>This directive is ignored when any of the following <a href="../Scripts.htm#cmd">command line
switches</a> are used: /force /restart</p>
<p>Like other directives, #SingleInstance cannot be executed conditionally.</p>
<h2 id="Limitations">Limitations</h2>
<p>Previous instances of the script are identified by searching for a <a href="../Program.htm#main-window">main
window</a> with the <a href="../Program.htm#title">default
title</a>. Therefore, a previous instance may not be
found if:</p>
<ul>
<li>The title of its main window has been changed.</li>
<li>It is running on a different version of AutoHotkey.</li>
<li>Its main window is no longer top-level, such as if the script has
    used
    <a href="https://learn.microsoft.com/windows/win32/api/winuser/nf-winuser-setparent">SetParent</a>
    to change its parent to something other than NULL (0).</li>
</ul>
<p>At most one previous instance is detected and sent a message asking it
to close. Therefore, the following additional limitations also apply:</p>
<ul>
<li>If there are multiple instances (such as if previous instances of
    the script used the <code>#SingleInstance Off</code> mode), the topmost
    matching instance is sent the message, and other instances are not
    considered.</li>
<li>If the previous instance is running at a higher integrity level than
    the new instance (where running as administrator &gt; <a href="../Program.htm#Installer_uiAccess">running with UI
    access</a> &gt; normal), it cannot be
    closed due to security restrictions.</li>
</ul>
<p>If multiple instances of the script are started simultaneously, they may
fail to detect each other or may all target the same previous instance.
This would result in multiple instances of the script starting.</p>
<h2 id="Related">Related</h2>
<p><a href="Reload.htm">Reload</a></p>
<h2 id="Examples">Examples</h2>
<p>::: {#ExBasic .ex}
<a class="ex_number" href="#ExBasic"></a> Skips the dialog box and replaces the old
instance automatically.</p>
<pre class="codehilite"><code>#SingleInstance Force
</code></pre>

<p>:::</p>
                </article>

                <!-- Footer Navigation -->
                <div class="doc-pagination">
                    
                    
                </div>

                <!-- Edit on GitHub -->
                <div class="edit-page">
                    <a href="https://github.com/012090120901209/AHKv2_Docs/edit/main/_SingleInstance.md" target="_blank" rel="noopener">
                        <i class="fas fa-edit"></i> Edit this page
                    </a>
                </div>
            </div>

            <!-- Table of Contents -->
            <aside class="toc">
                <div class="toc-wrapper">
                    <h3 class="toc-title">On this page</h3>
                    <nav id="tableOfContents">
                        <div class="toc">
<ul>
<li><a href="#singleinstance">#SingleInstance</a><ul>
<li><a href="#Parameters">Parameters</a></li>
<li><a href="#Remarks">Remarks</a></li>
<li><a href="#Limitations">Limitations</a></li>
<li><a href="#Related">Related</a></li>
<li><a href="#Examples">Examples</a></li>
</ul>
</li>
</ul>
</div>

                    </nav>
                </div>
            </aside>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/js/theme.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/toc.js"></script>
    <script src="/js/syntax.js"></script>
</body>
</html>