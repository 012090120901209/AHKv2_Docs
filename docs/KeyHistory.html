<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KeyHistory | AutoHotkey v2 Documentation</title>
    <meta name="description" content="Displays script info and a history of the most recent keystrokes and">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/AHKv2_Docs/css/styles.css">
    <link rel="stylesheet" href="/AHKv2_Docs/css/sidebar.css">
    <link rel="stylesheet" href="/AHKv2_Docs/css/markdown.css">
    <link rel="stylesheet" href="/AHKv2_Docs/css/syntax.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-left">
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="/AHKv2_Docs/" class="navbar-brand">
                    <span class="logo-icon">âš¡</span>
                    <span class="logo-text">AutoHotkey v2</span>
                </a>
            </div>
            <div class="navbar-center">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off">
                    <kbd class="search-hint">Ctrl+K</kbd>
                </div>
            </div>
            <div class="navbar-right">
                <a href="https://github.com/012090120901209/AHKv2_Docs" class="nav-link" target="_blank" rel="noopener">
                    <i class="fab fa-github"></i>
                    <span>GitHub</span>
                </a>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Search Results Dropdown -->
    <div class="search-results" id="searchResults" style="display: none;"></div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <!-- Category Navigation -->
                <div class="sidebar-section">
                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-book"></i>
                            <span>Getting Started</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/AHKv2_Docs/Tutorial.html">Tutorial</a></li>
                            <li><a href="/AHKv2_Docs/FAQ.html">FAQ</a></li>
                            <li><a href="/AHKv2_Docs/Concepts.html">Concepts</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-code"></i>
                            <span>Functions</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/AHKv2_Docs/Functions.html">Functions</a></li>
                            <li><a href="/AHKv2_Docs/StrLen.html">String Functions</a></li>
                            <li><a href="/AHKv2_Docs/WinActivate.html">Window Functions</a></li>
                            <li><a href="/AHKv2_Docs/FileRead.html">File Operations</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-cube"></i>
                            <span>Objects</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/AHKv2_Docs/Array.html">Array</a></li>
                            <li><a href="/AHKv2_Docs/Map.html">Map</a></li>
                            <li><a href="/AHKv2_Docs/Object.html">Object</a></li>
                            <li><a href="/AHKv2_Docs/Gui.html">Gui</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-hashtag"></i>
                            <span>Directives</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/AHKv2_Docs/_Include.html">#Include</a></li>
                            <li><a href="/AHKv2_Docs/_Requires.html">#Requires</a></li>
                            <li><a href="/AHKv2_Docs/_HotIf.html">#HotIf</a></li>
                        </ul>
                    </div>

                    <div class="sidebar-category">
                        <div class="category-header">
                            <i class="fas fa-info-circle"></i>
                            <span>Reference</span>
                        </div>
                        <ul class="category-items">
                            <li><a href="/AHKv2_Docs/KeyList.html">Key List</a></li>
                            <li><a href="/AHKv2_Docs/Hotkeys.html">Hotkeys</a></li>
                            <li><a href="/AHKv2_Docs/Variables.html">Variables</a></li>
                            <li><a href="/AHKv2_Docs/Language.html">Language</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <div class="content-wrapper">
                <!-- Breadcrumb -->
                <nav class="breadcrumb" aria-label="Breadcrumb">
                    <a href="/AHKv2_Docs/">Home</a> <i class="fas fa-chevron-right"></i> <span>KeyHistory</span>
                </nav>

                <!-- Document Content -->
                <article class="markdown-body">
                    <h1 id="keyhistory">KeyHistory</h1>
<p>Displays script info and a history of the most recent keystrokes and
mouse clicks.</p>
<pre class="codehilite"><code class="language-Syntax">KeyHistory MaxEvents
</code></pre>

<h2 id="Parameters">Parameters</h2>
<dl>
<dt>MaxEvents</dt>
<dd>
<p>Type: <a href="../Concepts.htm#numbers">Integer</a></p>
<p>If omitted, the script\'s <a href="../Program.htm#main-window">main window</a>
will be shown, equivalent to selecting the \"View-&gt;Key history\"
menu item. Otherwise, specify the maximum number of keyboard and
mouse events that can be recorded for display in the window (limit
500). The key history is also reset, but the main window is not
shown or refreshed. Specify 0 to disable key history entirely.</p>
</dd>
</dl>
<h2 id="Remarks">Remarks</h2>
<p>If KeyHistory is not used, the default setting is 40.</p>
<p>To disable key history, use the following:</p>
<pre class="codehilite"><code>KeyHistory 0
</code></pre>

<p>This feature is intended to help <a href="../Scripts.htm#debug">debug scripts and
hotkeys</a>. It can also be used to detect the scan
code of a non-standard keyboard key using the steps described at the
bottom of the <a href="../KeyList.htm#SpecialKeys">key list</a> page (knowing the
scan code allows such a key to be made into a hotkey).</p>
<p>The virtual key codes (VK) of the wheel events (WheelDown, WheelUp,
WheelLeft, and WheelRight) are placeholder values that do not have any
meaning outside of AutoHotkey. Also, the scan code for wheel events is
actually the number of notches by which the wheel was turned (typically
1).</p>
<p>If the script does not have the <a href="InstallKeybdHook.htm">keyboard hook</a>
installed, the KeyHistory window will display only the keyboard events
generated by the script itself (i.e. not the user\'s). If the script
does not have the <a href="InstallMouseHook.htm">mouse hook</a> installed, mouse
button events will not be shown. You can find out if your script uses
either hook via \"View-&gt;Key History\" in the <a href="../Program.htm#main-window">script\'s main
window</a> (accessible via \"Open\" in the
<a href="../Program.htm#tray-icon">tray icon</a>). You can force the hooks to be
installed by adding either or both of the following lines to the script:</p>
<pre class="codehilite"><code>InstallKeybdHook
InstallMouseHook
</code></pre>

<p>Because each keystroke or mouse click consists of a down-event and an
up-event, KeyHistory displays only half as many \"complete events\" as
specified by <em>MaxEvents</em>. For example, if the script calls
<code>KeyHistory 50</code>, up to 25 keystrokes and mouse clicks will be displayed.</p>
<h2 id="Related">Related</h2>
<p><a href="InstallKeybdHook.htm">InstallKeybdHook</a>,
<a href="InstallMouseHook.htm">InstallMouseHook</a>,
<a href="ListHotkeys.htm">ListHotkeys</a>, <a href="ListLines.htm">ListLines</a>,
<a href="ListVars.htm">ListVars</a>, <a href="GetKeyState.htm">GetKeyState</a>,
<a href="KeyWait.htm">KeyWait</a>, <a href="../Variables.htm#PriorKey">A_PriorKey</a></p>
<h2 id="Examples">Examples</h2>
<p>::: {#ExBasic .ex}
<a class="ex_number" href="#ExBasic"></a> Displays the history info in a window.</p>
<pre class="codehilite"><code>KeyHistory
</code></pre>

<p>:::</p>
<p>::: {#ExMaxEvents .ex}
<a class="ex_number" href="#ExMaxEvents"></a> Causes KeyHistory to display the last 100
instead 40 keyboard and mouse events.</p>
<pre class="codehilite"><code>KeyHistory 100
</code></pre>

<p>:::</p>
<p>::: {#ExDisable .ex}
<a class="ex_number" href="#ExDisable"></a> Disables key history entirely.</p>
<pre class="codehilite"><code>KeyHistory 0
</code></pre>

<p>:::</p>
                </article>

                <!-- Footer Navigation -->
                <div class="doc-pagination">
                    
                    
                </div>

                <!-- Edit on GitHub -->
                <div class="edit-page">
                    <a href="https://github.com/012090120901209/AHKv2_Docs/edit/main/KeyHistory.md" target="_blank" rel="noopener">
                        <i class="fas fa-edit"></i> Edit this page
                    </a>
                </div>
            </div>

            <!-- Table of Contents -->
            <aside class="toc">
                <div class="toc-wrapper">
                    <h3 class="toc-title">On this page</h3>
                    <nav id="tableOfContents">
                        <div class="toc">
<ul>
<li><a href="#keyhistory">KeyHistory</a><ul>
<li><a href="#Parameters">Parameters</a></li>
<li><a href="#Remarks">Remarks</a></li>
<li><a href="#Related">Related</a></li>
<li><a href="#Examples">Examples</a></li>
</ul>
</li>
</ul>
</div>

                    </nav>
                </div>
            </aside>
        </main>
    </div>

    <!-- Scripts -->
    <script>
        // Set base URL for JavaScript modules
        window.BASE_URL = '/AHKv2_Docs';
    </script>
    <script src="/AHKv2_Docs/js/theme.js"></script>
    <script src="/AHKv2_Docs/js/sidebar.js"></script>
    <script src="/AHKv2_Docs/js/search.js"></script>
    <script src="/AHKv2_Docs/js/toc.js"></script>
    <script src="/AHKv2_Docs/js/syntax.js"></script>
</body>
</html>